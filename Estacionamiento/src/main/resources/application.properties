# ============================================
# Configuración de la Aplicación
# ============================================
spring.application.name=ParkSmart Estacionamiento

# ============================================
# Configuración del Servidor
# ============================================
# Puerto del servidor (puede ser sobrescrito con variable de entorno PORT)
server.port=8080

# Context path (ruta base de la aplicación)
server.servlet.context-path=/

# Configuración de compresión
server.compression.enabled=true
server.compression.mime-types=text/html,text/xml,text/plain,text/css,text/javascript,application/javascript,application/json
server.compression.min-response-size=1024

# Timeout de conexión
server.connection-timeout=20000

# ============================================
# Configuración de Recursos Estáticos
# ============================================
# Spring Boot automáticamente sirve archivos estáticos desde:
# - /static (o /public o /resources o /META-INF/resources)
# - classpath:/static/

# Configuración de caché para recursos estáticos (en milisegundos)
spring.web.resources.cache.period=3600
spring.web.resources.cache.cachecontrol.max-age=1h
spring.web.resources.cache.cachecontrol.cache-public=true

# ============================================
# Configuración de CORS
# ============================================
# Nota: CORS se configura en la clase WebConfig.java
# Para producción, cambiar origins a dominios específicos

# ============================================
# Configuración de Logging
# ============================================
logging.level.root=INFO
logging.level.mx.edu.utez.Estacionamiento=DEBUG
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.pattern.file=%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n

# ============================================
# Configuración de JSON
# ============================================
spring.jackson.serialization.write-dates-as-timestamps=false
spring.jackson.time-zone=America/Mexico_City

# ============================================
# Configuración de Error Handling
# ============================================
server.error.include-message=always
server.error.include-binding-errors=always
server.error.include-stacktrace=on_param
server.error.include-exception=false

# ============================================
# Configuración de Base de Datos MySQL (XAMPP)
# ============================================
# Nota: Asegúrate de que XAMPP esté ejecutándose y MySQL esté activo
# Por defecto, XAMPP usa:
# - Usuario: root
# - Contraseña: (vacía por defecto)
# - Puerto: 3306
# - Host: localhost

spring.datasource.url=jdbc:mysql://localhost:3306/parksmart_db?useSSL=false&serverTimezone=UTC&allowPublicKeyRetrieval=true&useUnicode=true&characterEncoding=UTF-8
spring.datasource.username=root
spring.datasource.password=
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

# ============================================
# Configuración de JPA/Hibernate
# ============================================
# Modo de DDL: 
# - validate: solo valida que las tablas existan (recomendado para producción)
# - update: actualiza el esquema si es necesario
# - create: crea el esquema y destruye datos anteriores
# - create-drop: crea al inicio y elimina al finalizar
# - none: no hace nada
spring.jpa.hibernate.ddl-auto=update

# Mostrar SQL en consola (útil para desarrollo)
# Descomentar para ver las consultas SQL en desarrollo
# spring.jpa.show-sql=true
# spring.jpa.properties.hibernate.format_sql=true

# Dialecto de Hibernate para MySQL
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect

# Configuración de conexión
spring.datasource.hikari.maximum-pool-size=10
spring.datasource.hikari.minimum-idle=5
spring.datasource.hikari.connection-timeout=20000
